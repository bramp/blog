<!DOCTYPE html><html lang=en><head><meta charset=utf-8><title>Read/Write permissions for PHP scripts at lancs.ac.uk</title><meta name=description content="My girlfriend wanted to create a blog, and she attempted to use her university provided web space. However, the blog software seemed unable to write to her webspace. Typically you would fix this by changing the write permissions on the file/directory like so:
chmod g&#43;w filename  or
chmod o&#43;w filename  However this did not seem to work. I noticed that the files which hosted the website were on a SunOS 5."><meta name=author content="Andrew Brampton"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=generator content="Hugo"/><link rel=canonical href="https://blog.bramp.net/post/2009/01/21/read/write-permissions-for-php-scripts-at-lancs.ac.uk/"/><link href=https://blog.bramp.net/index.xml rel=alternate type=application/rss+xml title="bramp.net"/><link href=https://blog.bramp.net/index.xml rel=feed type=application/rss+xml title="bramp.net"/><link rel="shortcut icon" href=/favicon.ico type="image/x-icon"/><link rel=apple-touch-icon-precomposed href="/images/favicon.png"/><link rel=apple-touch-icon-precomposed sizes=57x57 href="/images/favicon-57x57.png"/><link rel=apple-touch-icon-precomposed sizes=72x72 href="/images/favicon-72x72.png"/><link rel=apple-touch-icon-precomposed sizes=76x76 href="/images/favicon-76x76.png"/><link rel=apple-touch-icon-precomposed sizes=114x114 href="/images/favicon-114x114.png"/><link rel=apple-touch-icon-precomposed sizes=120x120 href="/images/favicon-120x120.png"/><link rel=apple-touch-icon-precomposed sizes=144x144 href="/images/favicon-144x144.png"/><link rel=apple-touch-icon-precomposed sizes=152x152 href="/images/favicon-152x152.png"/><link rel=apple-touch-icon-precomposed sizes=180x180 href="/images/favicon-180x180.png"/><meta name=msapplication-TileColor content=#4582EC><meta name=msapplication-TileImage content=/images/favicon-144x144.png><meta name=theme-color content=#4582EC><link rel=icon sizes=192x192 href="/images/favicon-192x192.png"/><link href=/css/all.min.css rel=stylesheet><link href=https://fonts.gstatic.com rel=preconnect crossorigin><link href="https://fonts.googleapis.com/css?family=Raleway:400,700" rel=stylesheet type=text/css><link href=https://netdna.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.css rel=stylesheet><link rel=stylesheet href=https://cdn.jsdelivr.net/font-hack/2.010/css/hack.min.css><meta name=twitter:card content="summary"/><meta name=twitter:site content="@TheBramp"/><meta name=twitter:title content="Read/Write permissions for PHP scripts at lancs.ac.uk"/><meta name=twitter:url content="https://blog.bramp.net/post/2009/01/21/read/write-permissions-for-php-scripts-at-lancs.ac.uk/"/><meta name=twitter:creator content="@TheBramp"/><meta name=twitter:description content="My girlfriend wanted to create a blog, and she attempted to use her university provided web space. However, the blog software seemed unable to write to her webspace. Typically you would fix this by changing the write permissions on the file/directory like so:
chmod g&#43;w filename  or
chmod o&#43;w filename  However this did not seem to work. I noticed that the files which hosted the website were on a SunOS 5."/><meta property=og:type content="article"/><meta property=article:author content="https://www.facebook.com/bramp"/><meta property=article:published_time content="2009-01-21T00:00:00&#43;07:00"/><meta property=article:tag content="acl"/><meta property=article:tag content="lancs"/><meta property=article:tag content="SunOS"/><meta property=article:tag content="www"/><meta property=og:url content="https://blog.bramp.net/post/2009/01/21/read/write-permissions-for-php-scripts-at-lancs.ac.uk/"/><meta property=og:site_name content="bramp.net"/><meta property=og:title content="Read/Write permissions for PHP scripts at lancs.ac.uk"/><meta property=og:description content="My girlfriend wanted to create a blog, and she attempted to use her university provided web space. However, the blog software seemed unable to write to her webspace. Typically you would fix this by changing the write permissions on the file/directory like so:
chmod g&#43;w filename  or
chmod o&#43;w filename  However this did not seem to work. I noticed that the files which hosted the website were on a SunOS 5."/><meta property=og:updated_time content="2009-01-21T00:00:00&#43;00:00"/><meta property=og:locale content="en_GB"/><meta name=google-site-verification content="RXqIC-7spNUYReoHFlubz8Fbqsg1fC1pE6FSgSnCNjQ"/><body><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-136478-5', 'auto');
    ga('require', 'linkid', 'linkid.js');
    ga('send', 'pageview');</script><div id=wrapper><div class="navbar navbar-default"><div class=container><div class=navbar-header><button type=button class=navbar-toggle data-toggle=collapse data-target=.navbar-collapse><span class=sr-only>Toggle navigation</span> <span class=icon-bar></span> <span class=icon-bar></span> <span class=icon-bar></span></button><div class=navbar-brand aria-label="About Andrew Brampton"><a href="/"><img src=/images/favicon-64x64.png class=profile-image alt=Home></a><div><a href="/about-me/">Andrew Brampton</a><div id=social-wrapper><a href=https://twitter.com/TheBramp aria-label=Twitter><i class="fa fa-twitter-square"></i></a> <a href=https://www.linkedin.com/in/bramp aria-label=LinkedIn><i class="fa fa-linkedin-square"></i></a> <a href=https://www.facebook.com/bramp aria-label=Facebook><i class="fa fa-facebook-square"></i></a> <a href=https://github.com/bramp aria-label=GitHub><i class="fa fa-github-square"></i></a> <a href=https://feeds.feedburner.com/brampnet aria-label="RSS feed"><i class="fa fa-rss-square"></i></a></div></div></div></div><div class="navbar-collapse collapse"><ul class="nav navbar-nav" role=navigation><li><a href="/">Articles</a></li><li><a href="/about-me/">About Me</a></li><li><a href="/android-app/">Android Apps</a></li><li><a href="/opensource/">Open Source</a></li><li><a href="/publication/">Publications</a></li></ul></div></div></div><div class="container main"><div id=article><h1>Read/Write permissions for PHP scripts at lancs.ac.uk</h1><p class=meta><i class="fa fa-calendar-o"></i> 2009-01-21 | <a href="https://blog.bramp.net/tags/acl/">acl</a> | <a href="https://blog.bramp.net/tags/lancs/">lancs</a> | <a href="https://blog.bramp.net/tags/sunos/">SunOS</a> | <a href="https://blog.bramp.net/tags/www/">www</a></p><div class=post><p>My girlfriend wanted to create a blog, and she attempted to use her <a href=http://www.lancs.ac.uk/ug/cranen>university provided web space</a>. However, the blog software seemed unable to write to her webspace. Typically you would fix this by changing the write permissions on the file/directory like so:</p><div class=highlight><pre><code class=language-bash data-lang=bash>chmod g+w filename
</code></pre></div><p>or</p><div class=highlight><pre><code class=language-bash data-lang=bash>chmod o+w filename
</code></pre></div><p>However this did not seem to work. I noticed that the files which hosted the website were on a SunOS 5.8 machine, and this seemed to support access control lists (ACLs). So I looked at a few of the ACLs for the files and they looked like this:</p><div class=highlight><pre><code class=language-bash data-lang=bash><span class=nv>$ </span>getfacl filename
user::rwx
group::rwx              <span class=c>#effective:rwx</span>
group:httpadmin:rwx     <span class=c>#effective:rwx</span>
mask:rwx
other:r--
</code></pre></div><p>Since there is the group:httpadmin line, ISS are clearly using these ACLs. So I figured I would add the user the webserver is running under to the ACL. A quick look at a phpinfo() page showed me that the web server is running under user www in group www. So I first tried the following:</p><div class=highlight><pre><code class=language-bash data-lang=bash>setfacl -m user:www:rw- filename
</code></pre></div><p>But that oddly didn&#8217;t work, but then I noted that the webserver was a linux machine, not SunOS, and that the UID of www was 48. A quick look at the UID of www on SunOS and it shows it is a completely different number. So for what ever reason ISS were unable to make the UIDs match between computers, so the correct command to type is:</p><div class=highlight><pre><code class=language-bash data-lang=bash>setfacl -m user:48:rw- filename
</code></pre></div><p>Bottom line, if you wish to make your files or directories writable by scripts running on the webserver you must log into cent1 (via ssh), change to your www directory &#8220;/home/cent1/NN/username/www/public_html&#8221; and then issue the above command to the appropriate files.</p></div></div><div class=row><div class=col-sm-6><div class=addthis_sharing_toolbox></div></div><div class=col-sm-6><div class=btn-toolbar><div class=btn-group><a class="btn btn-sm btn-soundcloud" href=https://feeds.feedburner.com/brampnet aria-label="RSS feed"><i class="fa fa-rss-square"></i> Subscribe via RSS</a></div><div class=btn-group><a class="btn btn-sm btn-twitter" href=https://twitter.com/TheBramp><i class="fa fa-twitter"></i> Follow @TheBramp</a></div></div></div></div><ul class=pager>&nbsp;<li class=previous><a href="/post/2009/01/11/autoload-symbols-for-freebsd-kernel-module/">&larr; Autoload symbols for FreeBSD kernel module</a></li>&nbsp;<li class=next><a href="/post/2009/01/27/what-happens-when-you-mix/">What happens when you mixâ€¦ &rarr;</a></li></ul><div id=disqus_thread></div><script type=text/javascript>var disqus_shortname = 'bramp';
    var disqus_identifier = 'https:\/\/blog.bramp.net\/post\/2009\/01\/21\/read\/write-permissions-for-php-scripts-at-lancs.ac.uk\/';
    var disqus_title = 'Read\/Write permissions for PHP scripts at lancs.ac.uk';
    var disqus_url = 'https:\/\/blog.bramp.net\/post\/2009\/01\/21\/read\/write-permissions-for-php-scripts-at-lancs.ac.uk\/';
    (function() {
	    
	    
	    if (window.location.host.lastIndexOf(":1313") >= 0)
	        return;

        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'https://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();</script><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript><a href=http://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a><br/><footer><p class="text-muted credit">&copy; 2017. All rights reserved.</p></footer></div></div><script src=/js/all.min.js></script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-559846a374d7ecaa" async></script>